#To find a file I dont know where it originates since I have modified the notebooks.

import json
import os

def find_file_in_notebooks(directory, filename):
    for root, dirs, files in os.walk(directory):
        for file in files:
            if file.endswith('.ipynb'):
                notebook_path = os.path.join(root, file)
                with open(notebook_path, 'r') as f:
                    notebook = json.load(f)
                for i, cell in enumerate(notebook['cells']):
                    if cell['cell_type'] == 'code':
                        for line in cell['source']:
                            if filename in line:
                                print(f"Found in {notebook_path}, cell {i}")

# Replace 'your_directory' with the directory where your notebooks are stored
directory = 'your_directory'
filename = 'taxa_mit_whole.xlsx'
find_file_in_notebooks(directory, filename)

-----------------------------------------------------------------

TO found how big is the notebook in question
import json

def count_cells(notebook_path):
    with open(notebook_path, 'r') as f:
        notebook = json.load(f)
        
    code_count = 0
    markdown_count = 0
    for cell in notebook['cells']:
        if cell['cell_type'] == 'code':
            code_count += 1
        elif cell['cell_type'] == 'markdown':
            markdown_count += 1
    
    return code_count, markdown_count

# Usage of the code
notebook_path = '/home/beatriz/MIC/2_Micro/2_Filtering.ipynb'  # Replace with the actual path to your notebook
code_count, markdown_count = count_cells(notebook_path)
print(f'The number of code cells is: {code_count}')
print(f'The number of markdown cells is: {markdown_count}')

-------------------------------------------------------
